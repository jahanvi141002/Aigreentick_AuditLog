spring.application.name=audit

spring.data.mongodb.uri=mongodb://localhost:27017/audit_db
server.port=8081

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.topic.audit-logs=audit-logs
spring.kafka.topic.exception-logs=exception-logs

# Kafka Consumer Configuration
spring.kafka.consumer.group-id=audit-consumer-simple-20251104230529
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.enable-auto-commit=false
spring.kafka.consumer.max-poll-records=10
spring.kafka.consumer.fetch-min-bytes=1
spring.kafka.consumer.fetch-max-wait-ms=5000

# Kafka Producer Configuration
spring.kafka.producer.acks=1
spring.kafka.producer.retries=3
spring.kafka.producer.batch-size=16384
spring.kafka.producer.linger-ms=10
spring.kafka.producer.buffer-memory=33554432

# Kafka Listener Configuration
spring.kafka.listener.concurrency=1

# Audit Configuration
audit.consumer.batch-size=10
audit.collection.name=audit_logs
audit.default.username=system

# Exception Logs Configuration
exception.consumer.batch-size=10
exception.collection.name=exception_logs

# Kafka Consumer Advanced Configuration
spring.kafka.consumer.session-timeout-ms=45000
spring.kafka.consumer.heartbeat-interval-ms=3000
spring.kafka.consumer.max-poll-interval-ms=300000
spring.kafka.consumer.request-timeout-ms=60000
spring.kafka.consumer.default-api-timeout-ms=60000
spring.kafka.consumer.metadata-max-age-ms=30000
spring.kafka.consumer.reconnect-backoff-ms=100
spring.kafka.consumer.reconnect-backoff-max-ms=1000
spring.kafka.consumer.client-id-prefix=audit-consumer

# Enable debug logging for audit
logging.level.com.aigreentick.audit=INFO
logging.level.com.aigreentick.audit.config.MongoAuditEventListener=INFO
logging.level.com.aigreentick.audit.service.AuditLogKafkaProducer=INFO
logging.level.com.aigreentick.audit.service.AuditLogKafkaConsumer=INFO
logging.level.com.aigreentick.audit.service.ExceptionLogKafkaProducer=INFO
logging.level.com.aigreentick.audit.service.ExceptionLogKafkaConsumer=INFO
logging.level.org.springframework.kafka=DEBUG
logging.level.org.springframework.kafka.listener=DEBUG
logging.level.org.apache.kafka.clients.consumer=DEBUG
logging.level.org.apache.kafka.clients.consumer.internals=DEBUG
logging.level.org.apache.kafka.clients.consumer.internals.AbstractCoordinator=DEBUG
logging.level.org.apache.kafka.clients.consumer.internals.ConsumerCoordinator=DEBUG
logging.level.org.apache.kafka.clients.consumer.internals.AbstractCoordinator.JoinGroup=DEBUG
